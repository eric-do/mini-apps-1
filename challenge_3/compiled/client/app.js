/*
COMPONENT LIST
App
Homepage
Registration
Address
CreditCard
Confirmation
*/

const HOMEPAGE_VIEW = 0;
const REGISTRATION_VEW = 1;
const ADDRESS_VIEW = 2;
const CREDIT_VIEW = 3;
const CONFIRMATION_VIEW = 4;

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      hasPurchased: false,
      currentView: HOMEPAGE_VIEW,
      user: {}
    };
  }

  nextViewHandler(e) {
    e.preventDefault();
    var currentView = this.state.currentView;
    currentView++;
    this.setView(currentView);
  }

  onSubmit(e) {
    e.preventDefault();
  }

  handleChange(e) {
    e.preventDefault();
    var name = e.target.id;
    var value = e.target.value;
    var user = Object.assign(this.state.user);
    user[name] = value;
    this.setState({
      user: user
    });
  }

  postData(data) {
    $.ajax({
      url: 'localhost:3000',
      method: 'POST',
      data: JSON.stringify(data)
    });
  }

  resetView(e) {
    e.preventDefault();
    var currentView = 0;
    this.setView(currentView);
  }

  setView(currentView) {
    this.setState({
      currentView: currentView
    });
  }

  render() {
    if (this.state.currentView === HOMEPAGE_VIEW) {
      return React.createElement(Homepage, { onClick: this.nextViewHandler.bind(this) });
    }

    if (this.state.currentView === REGISTRATION_VEW) {
      return React.createElement(Registration, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === ADDRESS_VIEW) {
      return React.createElement(Address, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === CREDIT_VIEW) {
      return React.createElement(CreditCard, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === CONFIRMATION_VIEW) {
      return React.createElement(Confirmation, { onClick: this.resetView.bind(this), onChange: this.handleChange.bind(this) });
    }
  }
}

var Homepage = props => React.createElement(
  'div',
  { id: 'homepage' },
  React.createElement(
    'h1',
    null,
    'Homepage'
  ),
  React.createElement(
    'button',
    { onClick: props.onClick },
    'Checkout'
  )
);

var Registration = props => {
  return React.createElement(
    'div',
    { id: 'registration' },
    React.createElement(
      'h1',
      null,
      'Registration'
    ),
    React.createElement(
      'form',
      { onSubmit: props.handleSubmit },
      React.createElement('input', { id: 'name', type: 'text', placeholder: 'Name', onChange: e => props.onChange(e) }),
      React.createElement('input', { id: 'email', type: 'text', placeholder: 'Email', onChange: e => props.onChange(e) }),
      React.createElement('input', { id: 'password', type: 'text', placeholder: 'Password', onChange: e => props.onChange(e) }),
      React.createElement(
        'button',
        { onClick: e => props.onClick(e) },
        'Next'
      )
    )
  );
};

var Address = props => React.createElement(
  'div',
  { id: 'address' },
  React.createElement(
    'h1',
    null,
    'Address'
  ),
  React.createElement('input', { id: 'line1', type: 'text', placeholder: 'Line 1', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'line2', type: 'text', placeholder: 'Line 2', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'city', type: 'text', placeholder: 'City', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'state', type: 'text', placeholder: 'State', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'zip', type: 'text', placeholder: 'Zip Code', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'phone', type: 'text', placeholder: 'Phone number, e.g. (555)555-5555', onChange: e => props.onChange(e) }),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Next'
  )
);

var CreditCard = props => React.createElement(
  'div',
  { id: 'address' },
  React.createElement(
    'h1',
    null,
    'Credit Card'
  ),
  React.createElement('input', { id: 'creditcard', type: 'text', placeholder: 'Credit card number' }),
  React.createElement('input', { id: 'expiration', type: 'text', placeholder: 'Expiration date' }),
  React.createElement('input', { id: 'cvv', type: 'text', placeholder: 'CVV' }),
  React.createElement('input', { id: 'billing-zip', type: 'text', placeholder: 'Billing zip code' }),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Next'
  )
);

var Confirmation = props => React.createElement(
  'div',
  { id: 'confirmation' },
  React.createElement(
    'h1',
    null,
    'Confirmation'
  ),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Purchase'
  )
);

ReactDOM.render(React.createElement(App, null), document.getElementById(`app`));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIkhPTUVQQUdFX1ZJRVciLCJSRUdJU1RSQVRJT05fVkVXIiwiQUREUkVTU19WSUVXIiwiQ1JFRElUX1ZJRVciLCJDT05GSVJNQVRJT05fVklFVyIsIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiaGFzUHVyY2hhc2VkIiwiY3VycmVudFZpZXciLCJ1c2VyIiwibmV4dFZpZXdIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0VmlldyIsIm9uU3VibWl0IiwiaGFuZGxlQ2hhbmdlIiwibmFtZSIsInRhcmdldCIsImlkIiwidmFsdWUiLCJPYmplY3QiLCJhc3NpZ24iLCJzZXRTdGF0ZSIsInBvc3REYXRhIiwiZGF0YSIsIiQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc2V0VmlldyIsInJlbmRlciIsImJpbmQiLCJIb21lcGFnZSIsIm9uQ2xpY2siLCJSZWdpc3RyYXRpb24iLCJoYW5kbGVTdWJtaXQiLCJvbkNoYW5nZSIsIkFkZHJlc3MiLCJDcmVkaXRDYXJkIiwiQ29uZmlybWF0aW9uIiwiUmVhY3RET00iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztBQVVBLE1BQU1BLGdCQUFnQixDQUF0QjtBQUNBLE1BQU1DLG1CQUFtQixDQUF6QjtBQUNBLE1BQU1DLGVBQWUsQ0FBckI7QUFDQSxNQUFNQyxjQUFjLENBQXBCO0FBQ0EsTUFBTUMsb0JBQW9CLENBQTFCOztBQUVBLE1BQU1DLEdBQU4sU0FBa0JDLE1BQU1DLFNBQXhCLENBQWtDO0FBQ2hDQyxjQUFZQyxLQUFaLEVBQW1CO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsb0JBQWMsS0FESDtBQUVYQyxtQkFBYVosYUFGRjtBQUdYYSxZQUFNO0FBSEssS0FBYjtBQUtEOztBQUVEQyxrQkFBZ0JDLENBQWhCLEVBQW1CO0FBQ2pCQSxNQUFFQyxjQUFGO0FBQ0EsUUFBSUosY0FBYyxLQUFLRixLQUFMLENBQVdFLFdBQTdCO0FBQ0FBO0FBQ0EsU0FBS0ssT0FBTCxDQUFhTCxXQUFiO0FBQ0Q7O0FBRURNLFdBQVNILENBQVQsRUFBWTtBQUNWQSxNQUFFQyxjQUFGO0FBQ0Q7O0FBRURHLGVBQWFKLENBQWIsRUFBZ0I7QUFDZEEsTUFBRUMsY0FBRjtBQUNBLFFBQUlJLE9BQU9MLEVBQUVNLE1BQUYsQ0FBU0MsRUFBcEI7QUFDQSxRQUFJQyxRQUFRUixFQUFFTSxNQUFGLENBQVNFLEtBQXJCO0FBQ0EsUUFBSVYsT0FBT1csT0FBT0MsTUFBUCxDQUFjLEtBQUtmLEtBQUwsQ0FBV0csSUFBekIsQ0FBWDtBQUNBQSxTQUFLTyxJQUFMLElBQWFHLEtBQWI7QUFDQSxTQUFLRyxRQUFMLENBQWM7QUFDWmIsWUFBTUE7QUFETSxLQUFkO0FBR0Q7O0FBRURjLFdBQVNDLElBQVQsRUFBZTtBQUNiQyxNQUFFQyxJQUFGLENBQU87QUFDTEMsV0FBSyxnQkFEQTtBQUVMQyxjQUFRLE1BRkg7QUFHTEosWUFBTUssS0FBS0MsU0FBTCxDQUFlTixJQUFmO0FBSEQsS0FBUDtBQUtEOztBQUVETyxZQUFVcEIsQ0FBVixFQUFhO0FBQ1hBLE1BQUVDLGNBQUY7QUFDQSxRQUFJSixjQUFjLENBQWxCO0FBQ0EsU0FBS0ssT0FBTCxDQUFhTCxXQUFiO0FBQ0Q7O0FBRURLLFVBQVFMLFdBQVIsRUFBcUI7QUFDbkIsU0FBS2MsUUFBTCxDQUFjO0FBQ1pkLG1CQUFhQTtBQURELEtBQWQ7QUFHRDs7QUFFRHdCLFdBQVM7QUFDUCxRQUFJLEtBQUsxQixLQUFMLENBQVdFLFdBQVgsS0FBMkJaLGFBQS9CLEVBQThDO0FBQzVDLGFBQVEsb0JBQUMsUUFBRCxJQUFVLFNBQVMsS0FBS2MsZUFBTCxDQUFxQnVCLElBQXJCLENBQTBCLElBQTFCLENBQW5CLEdBQVI7QUFDRDs7QUFFRCxRQUFJLEtBQUszQixLQUFMLENBQVdFLFdBQVgsS0FBMkJYLGdCQUEvQixFQUFpRDtBQUMvQyxhQUFRLG9CQUFDLFlBQUQsSUFBYyxTQUFTLEtBQUthLGVBQUwsQ0FBcUJ1QixJQUFyQixDQUEwQixJQUExQixDQUF2QixFQUF3RCxVQUFVLEtBQUtsQixZQUFMLENBQWtCa0IsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBbEUsR0FBUjtBQUNEOztBQUVELFFBQUksS0FBSzNCLEtBQUwsQ0FBV0UsV0FBWCxLQUEyQlYsWUFBL0IsRUFBNkM7QUFDM0MsYUFBUSxvQkFBQyxPQUFELElBQVMsU0FBUyxLQUFLWSxlQUFMLENBQXFCdUIsSUFBckIsQ0FBMEIsSUFBMUIsQ0FBbEIsRUFBbUQsVUFBVSxLQUFLbEIsWUFBTCxDQUFrQmtCLElBQWxCLENBQXVCLElBQXZCLENBQTdELEdBQVI7QUFDRDs7QUFFRCxRQUFJLEtBQUszQixLQUFMLENBQVdFLFdBQVgsS0FBMkJULFdBQS9CLEVBQTRDO0FBQzFDLGFBQVEsb0JBQUMsVUFBRCxJQUFZLFNBQVMsS0FBS1csZUFBTCxDQUFxQnVCLElBQXJCLENBQTBCLElBQTFCLENBQXJCLEVBQXNELFVBQVUsS0FBS2xCLFlBQUwsQ0FBa0JrQixJQUFsQixDQUF1QixJQUF2QixDQUFoRSxHQUFSO0FBQ0Q7O0FBRUQsUUFBSSxLQUFLM0IsS0FBTCxDQUFXRSxXQUFYLEtBQTJCUixpQkFBL0IsRUFBa0Q7QUFDaEQsYUFBUSxvQkFBQyxZQUFELElBQWMsU0FBUyxLQUFLK0IsU0FBTCxDQUFlRSxJQUFmLENBQW9CLElBQXBCLENBQXZCLEVBQWtELFVBQVUsS0FBS2xCLFlBQUwsQ0FBa0JrQixJQUFsQixDQUF1QixJQUF2QixDQUE1RCxHQUFSO0FBQ0Q7QUFDRjtBQXhFK0I7O0FBMkVsQyxJQUFJQyxXQUFZN0IsS0FBRCxJQUNiO0FBQUE7QUFBQSxJQUFLLElBQUcsVUFBUjtBQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FERjtBQUVFO0FBQUE7QUFBQSxNQUFRLFNBQVNBLE1BQU04QixPQUF2QjtBQUFBO0FBQUE7QUFGRixDQURGOztBQU9BLElBQUlDLGVBQWdCL0IsS0FBRCxJQUFXO0FBQzVCLFNBQ0E7QUFBQTtBQUFBLE1BQUssSUFBRyxjQUFSO0FBQ0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQURGO0FBRUU7QUFBQTtBQUFBLFFBQU0sVUFBVUEsTUFBTWdDLFlBQXRCO0FBQ0UscUNBQU8sSUFBRyxNQUFWLEVBQWlCLE1BQUssTUFBdEIsRUFBNkIsYUFBWSxNQUF6QyxFQUFnRCxVQUFXMUIsQ0FBRCxJQUFPTixNQUFNaUMsUUFBTixDQUFlM0IsQ0FBZixDQUFqRSxHQURGO0FBRUUscUNBQU8sSUFBRyxPQUFWLEVBQWtCLE1BQUssTUFBdkIsRUFBOEIsYUFBWSxPQUExQyxFQUFrRCxVQUFXQSxDQUFELElBQU9OLE1BQU1pQyxRQUFOLENBQWUzQixDQUFmLENBQW5FLEdBRkY7QUFHRSxxQ0FBTyxJQUFHLFVBQVYsRUFBcUIsTUFBSyxNQUExQixFQUFpQyxhQUFZLFVBQTdDLEVBQXdELFVBQVdBLENBQUQsSUFBT04sTUFBTWlDLFFBQU4sQ0FBZTNCLENBQWYsQ0FBekUsR0FIRjtBQUlFO0FBQUE7QUFBQSxVQUFRLFNBQVVBLENBQUQsSUFBT04sTUFBTThCLE9BQU4sQ0FBY3hCLENBQWQsQ0FBeEI7QUFBQTtBQUFBO0FBSkY7QUFGRixHQURBO0FBVUQsQ0FYRDs7QUFhQSxJQUFJNEIsVUFBV2xDLEtBQUQsSUFDWjtBQUFBO0FBQUEsSUFBSyxJQUFHLFNBQVI7QUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBREY7QUFFRSxpQ0FBTyxJQUFHLE9BQVYsRUFBa0IsTUFBSyxNQUF2QixFQUE4QixhQUFZLFFBQTFDLEVBQW1ELFVBQVdNLENBQUQsSUFBT04sTUFBTWlDLFFBQU4sQ0FBZTNCLENBQWYsQ0FBcEUsR0FGRjtBQUdFLGlDQUFPLElBQUcsT0FBVixFQUFrQixNQUFLLE1BQXZCLEVBQThCLGFBQVksUUFBMUMsRUFBbUQsVUFBV0EsQ0FBRCxJQUFPTixNQUFNaUMsUUFBTixDQUFlM0IsQ0FBZixDQUFwRSxHQUhGO0FBSUUsaUNBQU8sSUFBRyxNQUFWLEVBQWlCLE1BQUssTUFBdEIsRUFBNkIsYUFBWSxNQUF6QyxFQUFnRCxVQUFXQSxDQUFELElBQU9OLE1BQU1pQyxRQUFOLENBQWUzQixDQUFmLENBQWpFLEdBSkY7QUFLRSxpQ0FBTyxJQUFHLE9BQVYsRUFBa0IsTUFBSyxNQUF2QixFQUE4QixhQUFZLE9BQTFDLEVBQWtELFVBQVdBLENBQUQsSUFBT04sTUFBTWlDLFFBQU4sQ0FBZTNCLENBQWYsQ0FBbkUsR0FMRjtBQU1FLGlDQUFPLElBQUcsS0FBVixFQUFnQixNQUFLLE1BQXJCLEVBQTRCLGFBQVksVUFBeEMsRUFBbUQsVUFBV0EsQ0FBRCxJQUFPTixNQUFNaUMsUUFBTixDQUFlM0IsQ0FBZixDQUFwRSxHQU5GO0FBT0UsaUNBQU8sSUFBRyxPQUFWLEVBQWtCLE1BQUssTUFBdkIsRUFBOEIsYUFBWSxrQ0FBMUMsRUFBNkUsVUFBV0EsQ0FBRCxJQUFPTixNQUFNaUMsUUFBTixDQUFlM0IsQ0FBZixDQUE5RixHQVBGO0FBUUU7QUFBQTtBQUFBLE1BQVEsU0FBVUEsQ0FBRCxJQUFPTixNQUFNOEIsT0FBTixDQUFjeEIsQ0FBZCxDQUF4QjtBQUFBO0FBQUE7QUFSRixDQURGOztBQWFBLElBQUk2QixhQUFjbkMsS0FBRCxJQUNmO0FBQUE7QUFBQSxJQUFLLElBQUcsU0FBUjtBQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FERjtBQUVFLGlDQUFPLElBQUcsWUFBVixFQUF1QixNQUFLLE1BQTVCLEVBQW1DLGFBQVksb0JBQS9DLEdBRkY7QUFHRSxpQ0FBTyxJQUFHLFlBQVYsRUFBdUIsTUFBSyxNQUE1QixFQUFtQyxhQUFZLGlCQUEvQyxHQUhGO0FBSUUsaUNBQU8sSUFBRyxLQUFWLEVBQWdCLE1BQUssTUFBckIsRUFBNEIsYUFBWSxLQUF4QyxHQUpGO0FBS0UsaUNBQU8sSUFBRyxhQUFWLEVBQXdCLE1BQUssTUFBN0IsRUFBb0MsYUFBWSxrQkFBaEQsR0FMRjtBQU1FO0FBQUE7QUFBQSxNQUFRLFNBQVVNLENBQUQsSUFBT04sTUFBTThCLE9BQU4sQ0FBY3hCLENBQWQsQ0FBeEI7QUFBQTtBQUFBO0FBTkYsQ0FERjs7QUFXQSxJQUFJOEIsZUFBZ0JwQyxLQUFELElBQ2pCO0FBQUE7QUFBQSxJQUFLLElBQUcsY0FBUjtBQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FERjtBQUVFO0FBQUE7QUFBQSxNQUFRLFNBQVVNLENBQUQsSUFBT04sTUFBTThCLE9BQU4sQ0FBY3hCLENBQWQsQ0FBeEI7QUFBQTtBQUFBO0FBRkYsQ0FERjs7QUFRQStCLFNBQVNWLE1BQVQsQ0FBZ0Isb0JBQUMsR0FBRCxPQUFoQixFQUF3QlcsU0FBU0MsY0FBVCxDQUF5QixLQUF6QixDQUF4QiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ09NUE9ORU5UIExJU1RcbkFwcFxuSG9tZXBhZ2VcblJlZ2lzdHJhdGlvblxuQWRkcmVzc1xuQ3JlZGl0Q2FyZFxuQ29uZmlybWF0aW9uXG4qL1xuXG5jb25zdCBIT01FUEFHRV9WSUVXID0gMDtcbmNvbnN0IFJFR0lTVFJBVElPTl9WRVcgPSAxO1xuY29uc3QgQUREUkVTU19WSUVXID0gMjtcbmNvbnN0IENSRURJVF9WSUVXID0gMztcbmNvbnN0IENPTkZJUk1BVElPTl9WSUVXID0gNDtcblxuY2xhc3MgQXBwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaGFzUHVyY2hhc2VkOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRWaWV3OiBIT01FUEFHRV9WSUVXLFxuICAgICAgdXNlcjoge31cbiAgICB9XG4gIH1cblxuICBuZXh0Vmlld0hhbmRsZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgY3VycmVudFZpZXcgPSB0aGlzLnN0YXRlLmN1cnJlbnRWaWV3O1xuICAgIGN1cnJlbnRWaWV3Kys7XG4gICAgdGhpcy5zZXRWaWV3KGN1cnJlbnRWaWV3KTtcbiAgfVxuXG4gIG9uU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbmFtZSA9IGUudGFyZ2V0LmlkO1xuICAgIHZhciB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHZhciB1c2VyID0gT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLnVzZXIpO1xuICAgIHVzZXJbbmFtZV0gPSB2YWx1ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXI6IHVzZXJcbiAgICB9KTtcbiAgfVxuXG4gIHBvc3REYXRhKGRhdGEpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnbG9jYWxob3N0OjMwMDAnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsIFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0VmlldyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBjdXJyZW50VmlldyA9IDA7XG4gICAgdGhpcy5zZXRWaWV3KGN1cnJlbnRWaWV3KTtcbiAgfVxuXG4gIHNldFZpZXcoY3VycmVudFZpZXcpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRWaWV3OiBjdXJyZW50Vmlld1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSBIT01FUEFHRV9WSUVXKSB7XG4gICAgICByZXR1cm4gKDxIb21lcGFnZSBvbkNsaWNrPXt0aGlzLm5leHRWaWV3SGFuZGxlci5iaW5kKHRoaXMpfSAvPilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gUkVHSVNUUkFUSU9OX1ZFVykge1xuICAgICAgcmV0dXJuICg8UmVnaXN0cmF0aW9uIG9uQ2xpY2s9e3RoaXMubmV4dFZpZXdIYW5kbGVyLmJpbmQodGhpcyl9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfS8+KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSBBRERSRVNTX1ZJRVcpIHtcbiAgICAgIHJldHVybiAoPEFkZHJlc3Mgb25DbGljaz17dGhpcy5uZXh0Vmlld0hhbmRsZXIuYmluZCh0aGlzKX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9Lz4pXG4gICAgfVxuICBcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gQ1JFRElUX1ZJRVcpIHtcbiAgICAgIHJldHVybiAoPENyZWRpdENhcmQgb25DbGljaz17dGhpcy5uZXh0Vmlld0hhbmRsZXIuYmluZCh0aGlzKX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9Lz4pXG4gICAgfVxuICBcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gQ09ORklSTUFUSU9OX1ZJRVcpIHtcbiAgICAgIHJldHVybiAoPENvbmZpcm1hdGlvbiBvbkNsaWNrPXt0aGlzLnJlc2V0Vmlldy5iaW5kKHRoaXMpfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX0vPilcbiAgICB9XG4gIH1cbn1cblxudmFyIEhvbWVwYWdlID0gKHByb3BzKSA9PiAoXG4gIDxkaXYgaWQ9XCJob21lcGFnZVwiPlxuICAgIDxoMT5Ib21lcGFnZTwvaDE+XG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfT5DaGVja291dDwvYnV0dG9uPlxuICA8L2Rpdj5cbilcblxudmFyIFJlZ2lzdHJhdGlvbiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICA8ZGl2IGlkPVwicmVnaXN0cmF0aW9uXCI+XG4gICAgPGgxPlJlZ2lzdHJhdGlvbjwvaDE+XG4gICAgPGZvcm0gb25TdWJtaXQ9e3Byb3BzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8aW5wdXQgaWQ9XCJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5hbWVcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgICAgPGlucHV0IGlkPVwiZW1haWxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW1haWxcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgICAgPGlucHV0IGlkPVwicGFzc3dvcmRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4gcHJvcHMub25DbGljayhlKX0+TmV4dDwvYnV0dG9uPlxuICAgIDwvZm9ybT5cbiAgPC9kaXY+KTtcbn1cblxudmFyIEFkZHJlc3MgPSAocHJvcHMpID0+IChcbiAgPGRpdiBpZD1cImFkZHJlc3NcIj5cbiAgICA8aDE+QWRkcmVzczwvaDE+XG4gICAgPGlucHV0IGlkPVwibGluZTFcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTGluZSAxXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8aW5wdXQgaWQ9XCJsaW5lMlwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJMaW5lIDJcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cImNpdHlcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiQ2l0eVwiIG9uQ2hhbmdlPXsoZSkgPT4gcHJvcHMub25DaGFuZ2UoZSl9PjwvaW5wdXQ+XG4gICAgPGlucHV0IGlkPVwic3RhdGVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU3RhdGVcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cInppcFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJaaXAgQ29kZVwiIG9uQ2hhbmdlPXsoZSkgPT4gcHJvcHMub25DaGFuZ2UoZSl9PjwvaW5wdXQ+XG4gICAgPGlucHV0IGlkPVwicGhvbmVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiUGhvbmUgbnVtYmVyLCBlLmcuICg1NTUpNTU1LTU1NTVcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHByb3BzLm9uQ2xpY2soZSl9Pk5leHQ8L2J1dHRvbj5cbiAgPC9kaXY+XG4pXG5cbnZhciBDcmVkaXRDYXJkID0gKHByb3BzKSA9PiAoXG4gIDxkaXYgaWQ9XCJhZGRyZXNzXCI+XG4gICAgPGgxPkNyZWRpdCBDYXJkPC9oMT5cbiAgICA8aW5wdXQgaWQ9XCJjcmVkaXRjYXJkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkNyZWRpdCBjYXJkIG51bWJlclwiPjwvaW5wdXQ+XG4gICAgPGlucHV0IGlkPVwiZXhwaXJhdGlvblwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFeHBpcmF0aW9uIGRhdGVcIj48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cImN2dlwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJDVlZcIj48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cImJpbGxpbmctemlwXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkJpbGxpbmcgemlwIGNvZGVcIj48L2lucHV0PlxuICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHByb3BzLm9uQ2xpY2soZSl9Pk5leHQ8L2J1dHRvbj5cbiAgPC9kaXY+XG4pXG5cbnZhciBDb25maXJtYXRpb24gPSAocHJvcHMpID0+IChcbiAgPGRpdiBpZD1cImNvbmZpcm1hdGlvblwiPlxuICAgIDxoMT5Db25maXJtYXRpb248L2gxPlxuICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHByb3BzLm9uQ2xpY2soZSl9PlB1cmNoYXNlPC9idXR0b24+XG4gIDwvZGl2PlxuKVxuXG5cblJlYWN0RE9NLnJlbmRlcig8QXBwLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhcHBgKSk7Il19