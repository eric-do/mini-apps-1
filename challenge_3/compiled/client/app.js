/*
COMPONENT LIST
App
Homepage
Registration
Address
CreditCard
Confirmation
*/

const HOMEPAGE_VIEW = 0;
const REGISTRATION_VEW = 1;
const ADDRESS_VIEW = 2;
const CREDIT_VIEW = 3;
const CONFIRMATION_VIEW = 4;

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      hasPurchased: false,
      currentView: HOMEPAGE_VIEW,
      user: {}
    };
  }

  nextViewHandler(e) {
    e.preventDefault();
    this.postData();
    var currentView = this.state.currentView;
    currentView++;
    this.setView(currentView);
  }

  handleSubmit(e) {
    e.preventDefault();
  }

  handleChange(e) {
    e.preventDefault();
    var name = e.target.id;
    var value = e.target.value;
    var user = Object.assign(this.state.user);
    user[name] = value;
    this.setState({
      user: user
    });
  }

  postData() {
    $.ajax({
      url: 'http://localhost:3000',
      method: 'POST',
      data: { user: this.state.user },
      success: () => console.log('success!'),
      error: () => console.log('error')
    });
  }

  resetView(e) {
    e.preventDefault();
    var currentView = 0;
    this.setView(currentView);
  }

  setView(currentView) {
    this.setState({
      currentView: currentView
    });
  }

  render() {
    if (this.state.currentView === HOMEPAGE_VIEW) {
      return React.createElement(Homepage, { onClick: this.nextViewHandler.bind(this) });
    }

    if (this.state.currentView === REGISTRATION_VEW) {
      return React.createElement(Registration, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === ADDRESS_VIEW) {
      return React.createElement(Address, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === CREDIT_VIEW) {
      return React.createElement(CreditCard, { onClick: this.nextViewHandler.bind(this), onChange: this.handleChange.bind(this) });
    }

    if (this.state.currentView === CONFIRMATION_VIEW) {
      return React.createElement(Confirmation, { onClick: this.resetView.bind(this), onChange: this.handleChange.bind(this) });
    }
  }
}

var Homepage = props => React.createElement(
  'div',
  { id: 'homepage' },
  React.createElement(
    'h1',
    null,
    'Homepage'
  ),
  React.createElement(
    'button',
    { onClick: props.onClick },
    'Checkout'
  )
);

var Registration = props => {
  return React.createElement(
    'div',
    { id: 'registration' },
    React.createElement(
      'h1',
      null,
      'Registration'
    ),
    React.createElement(
      'form',
      { onSubmit: props.handleSubmit },
      React.createElement('input', { id: 'name', type: 'text', placeholder: 'Name', onChange: e => props.onChange(e) }),
      React.createElement('input', { id: 'email', type: 'text', placeholder: 'Email', onChange: e => props.onChange(e) }),
      React.createElement('input', { id: 'password', type: 'text', placeholder: 'Password', onChange: e => props.onChange(e) }),
      React.createElement(
        'button',
        { onClick: e => props.onClick(e) },
        'Next'
      )
    )
  );
};

var Address = props => React.createElement(
  'div',
  { id: 'address' },
  React.createElement(
    'h1',
    null,
    'Address'
  ),
  React.createElement('input', { id: 'line1', type: 'text', placeholder: 'Line 1', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'line2', type: 'text', placeholder: 'Line 2', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'city', type: 'text', placeholder: 'City', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'state', type: 'text', placeholder: 'State', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'zip', type: 'text', placeholder: 'Zip Code', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'phone', type: 'text', placeholder: 'Phone number, e.g. (555)555-5555', onChange: e => props.onChange(e) }),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Next'
  )
);

var CreditCard = props => React.createElement(
  'div',
  { id: 'address' },
  React.createElement(
    'h1',
    null,
    'Credit Card'
  ),
  React.createElement('input', { id: 'creditcard', type: 'text', placeholder: 'Credit card number', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'expiration', type: 'text', placeholder: 'Expiration date', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'cvv', type: 'text', placeholder: 'CVV', onChange: e => props.onChange(e) }),
  React.createElement('input', { id: 'billing-zip', type: 'text', placeholder: 'Billing zip code', onChange: e => props.onChange(e) }),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Next'
  )
);

var Confirmation = props => React.createElement(
  'div',
  { id: 'confirmation' },
  React.createElement(
    'h1',
    null,
    'Confirmation'
  ),
  React.createElement(
    'button',
    { onClick: e => props.onClick(e) },
    'Purchase'
  )
);

ReactDOM.render(React.createElement(App, null), document.getElementById(`app`));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIkhPTUVQQUdFX1ZJRVciLCJSRUdJU1RSQVRJT05fVkVXIiwiQUREUkVTU19WSUVXIiwiQ1JFRElUX1ZJRVciLCJDT05GSVJNQVRJT05fVklFVyIsIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiaGFzUHVyY2hhc2VkIiwiY3VycmVudFZpZXciLCJ1c2VyIiwibmV4dFZpZXdIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwicG9zdERhdGEiLCJzZXRWaWV3IiwiaGFuZGxlU3VibWl0IiwiaGFuZGxlQ2hhbmdlIiwibmFtZSIsInRhcmdldCIsImlkIiwidmFsdWUiLCJPYmplY3QiLCJhc3NpZ24iLCJzZXRTdGF0ZSIsIiQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJyZXNldFZpZXciLCJyZW5kZXIiLCJiaW5kIiwiSG9tZXBhZ2UiLCJvbkNsaWNrIiwiUmVnaXN0cmF0aW9uIiwib25DaGFuZ2UiLCJBZGRyZXNzIiwiQ3JlZGl0Q2FyZCIsIkNvbmZpcm1hdGlvbiIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7QUFVQSxNQUFNQSxnQkFBZ0IsQ0FBdEI7QUFDQSxNQUFNQyxtQkFBbUIsQ0FBekI7QUFDQSxNQUFNQyxlQUFlLENBQXJCO0FBQ0EsTUFBTUMsY0FBYyxDQUFwQjtBQUNBLE1BQU1DLG9CQUFvQixDQUExQjs7QUFFQSxNQUFNQyxHQUFOLFNBQWtCQyxNQUFNQyxTQUF4QixDQUFrQztBQUNoQ0MsY0FBWUMsS0FBWixFQUFtQjtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsS0FBTCxHQUFhO0FBQ1hDLG9CQUFjLEtBREg7QUFFWEMsbUJBQWFaLGFBRkY7QUFHWGEsWUFBTTtBQUhLLEtB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LFVBQVdBLENBQUQsSUFBT04sTUFBTWtDLFFBQU4sQ0FBZTVCLENBQWYsQ0FBbEYsR0FIRjtBQUlFLGlDQUFPLElBQUcsS0FBVixFQUFnQixNQUFLLE1BQXJCLEVBQTRCLGFBQVksS0FBeEMsRUFBOEMsVUFBV0EsQ0FBRCxJQUFPTixNQUFNa0MsUUFBTixDQUFlNUIsQ0FBZixDQUEvRCxHQUpGO0FBS0UsaUNBQU8sSUFBRyxhQUFWLEVBQXdCLE1BQUssTUFBN0IsRUFBb0MsYUFBWSxrQkFBaEQsRUFBbUUsVUFBV0EsQ0FBRCxJQUFPTixNQUFNa0MsUUFBTixDQUFlNUIsQ0FBZixDQUFwRixHQUxGO0FBTUU7QUFBQTtBQUFBLE1BQVEsU0FBVUEsQ0FBRCxJQUFPTixNQUFNZ0MsT0FBTixDQUFjMUIsQ0FBZCxDQUF4QjtBQUFBO0FBQUE7QUFORixDQURGOztBQVdBLElBQUkrQixlQUFnQnJDLEtBQUQsSUFDakI7QUFBQTtBQUFBLElBQUssSUFBRyxjQUFSO0FBQ0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQURGO0FBRUU7QUFBQTtBQUFBLE1BQVEsU0FBVU0sQ0FBRCxJQUFPTixNQUFNZ0MsT0FBTixDQUFjMUIsQ0FBZCxDQUF4QjtBQUFBO0FBQUE7QUFGRixDQURGOztBQVFBZ0MsU0FBU1QsTUFBVCxDQUFnQixvQkFBQyxHQUFELE9BQWhCLEVBQXdCVSxTQUFTQyxjQUFULENBQXlCLEtBQXpCLENBQXhCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5DT01QT05FTlQgTElTVFxuQXBwXG5Ib21lcGFnZVxuUmVnaXN0cmF0aW9uXG5BZGRyZXNzXG5DcmVkaXRDYXJkXG5Db25maXJtYXRpb25cbiovXG5cbmNvbnN0IEhPTUVQQUdFX1ZJRVcgPSAwO1xuY29uc3QgUkVHSVNUUkFUSU9OX1ZFVyA9IDE7XG5jb25zdCBBRERSRVNTX1ZJRVcgPSAyO1xuY29uc3QgQ1JFRElUX1ZJRVcgPSAzO1xuY29uc3QgQ09ORklSTUFUSU9OX1ZJRVcgPSA0O1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBoYXNQdXJjaGFzZWQ6IGZhbHNlLFxuICAgICAgY3VycmVudFZpZXc6IEhPTUVQQUdFX1ZJRVcsXG4gICAgICB1c2VyOiB7fVxuICAgIH1cbiAgfVxuXG4gIG5leHRWaWV3SGFuZGxlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucG9zdERhdGEoKTtcbiAgICB2YXIgY3VycmVudFZpZXcgPSB0aGlzLnN0YXRlLmN1cnJlbnRWaWV3O1xuICAgIGN1cnJlbnRWaWV3Kys7XG4gICAgdGhpcy5zZXRWaWV3KGN1cnJlbnRWaWV3KTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG5hbWUgPSBlLnRhcmdldC5pZDtcbiAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB2YXIgdXNlciA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZS51c2VyKTtcbiAgICB1c2VyW25hbWVdID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VyOiB1c2VyXG4gICAgfSk7XG4gIH1cblxuICBwb3N0RGF0YSgpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLCBcbiAgICAgIGRhdGE6IHt1c2VyIDogdGhpcy5zdGF0ZS51c2VyfSxcbiAgICAgIHN1Y2Nlc3M6ICgpID0+IGNvbnNvbGUubG9nKCdzdWNjZXNzIScpLFxuICAgICAgZXJyb3I6ICgpID0+IGNvbnNvbGUubG9nKCdlcnJvcicpXG4gICAgfSk7XG4gIH1cblxuICByZXNldFZpZXcoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgY3VycmVudFZpZXcgPSAwO1xuICAgIHRoaXMuc2V0VmlldyhjdXJyZW50Vmlldyk7XG4gIH1cblxuICBzZXRWaWV3KGN1cnJlbnRWaWV3KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50VmlldzogY3VycmVudFZpZXdcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gSE9NRVBBR0VfVklFVykge1xuICAgICAgcmV0dXJuICg8SG9tZXBhZ2Ugb25DbGljaz17dGhpcy5uZXh0Vmlld0hhbmRsZXIuYmluZCh0aGlzKX0gLz4pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IFJFR0lTVFJBVElPTl9WRVcpIHtcbiAgICAgIHJldHVybiAoPFJlZ2lzdHJhdGlvbiBvbkNsaWNrPXt0aGlzLm5leHRWaWV3SGFuZGxlci5iaW5kKHRoaXMpfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX0vPilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gQUREUkVTU19WSUVXKSB7XG4gICAgICByZXR1cm4gKDxBZGRyZXNzIG9uQ2xpY2s9e3RoaXMubmV4dFZpZXdIYW5kbGVyLmJpbmQodGhpcyl9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfS8+KVxuICAgIH1cbiAgXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IENSRURJVF9WSUVXKSB7XG4gICAgICByZXR1cm4gKDxDcmVkaXRDYXJkIG9uQ2xpY2s9e3RoaXMubmV4dFZpZXdIYW5kbGVyLmJpbmQodGhpcyl9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfS8+KVxuICAgIH1cbiAgXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IENPTkZJUk1BVElPTl9WSUVXKSB7XG4gICAgICByZXR1cm4gKDxDb25maXJtYXRpb24gb25DbGljaz17dGhpcy5yZXNldFZpZXcuYmluZCh0aGlzKX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9Lz4pXG4gICAgfVxuICB9XG59XG5cbnZhciBIb21lcGFnZSA9IChwcm9wcykgPT4gKFxuICA8ZGl2IGlkPVwiaG9tZXBhZ2VcIj5cbiAgICA8aDE+SG9tZXBhZ2U8L2gxPlxuICAgIDxidXR0b24gb25DbGljaz17cHJvcHMub25DbGlja30+Q2hlY2tvdXQ8L2J1dHRvbj5cbiAgPC9kaXY+XG4pXG5cbnZhciBSZWdpc3RyYXRpb24gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgPGRpdiBpZD1cInJlZ2lzdHJhdGlvblwiPlxuICAgIDxoMT5SZWdpc3RyYXRpb248L2gxPlxuICAgIDxmb3JtIG9uU3VibWl0PXtwcm9wcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGlucHV0IGlkPVwibmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJOYW1lXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICAgIDxpbnB1dCBpZD1cImVtYWlsXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICAgIDxpbnB1dCBpZD1cInBhc3N3b3JkXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHByb3BzLm9uQ2xpY2soZSl9Pk5leHQ8L2J1dHRvbj5cbiAgICA8L2Zvcm0+XG4gIDwvZGl2Pik7XG59XG5cbnZhciBBZGRyZXNzID0gKHByb3BzKSA9PiAoXG4gIDxkaXYgaWQ9XCJhZGRyZXNzXCI+XG4gICAgPGgxPkFkZHJlc3M8L2gxPlxuICAgIDxpbnB1dCBpZD1cImxpbmUxXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkxpbmUgMVwiIG9uQ2hhbmdlPXsoZSkgPT4gcHJvcHMub25DaGFuZ2UoZSl9PjwvaW5wdXQ+XG4gICAgPGlucHV0IGlkPVwibGluZTJcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTGluZSAyXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8aW5wdXQgaWQ9XCJjaXR5XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkNpdHlcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cInN0YXRlXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlN0YXRlXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8aW5wdXQgaWQ9XCJ6aXBcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiWmlwIENvZGVcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cInBob25lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBob25lIG51bWJlciwgZS5nLiAoNTU1KTU1NS01NTU1XCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiBwcm9wcy5vbkNsaWNrKGUpfT5OZXh0PC9idXR0b24+XG4gIDwvZGl2PlxuKVxuXG52YXIgQ3JlZGl0Q2FyZCA9IChwcm9wcykgPT4gKFxuICA8ZGl2IGlkPVwiYWRkcmVzc1wiPlxuICAgIDxoMT5DcmVkaXQgQ2FyZDwvaDE+XG4gICAgPGlucHV0IGlkPVwiY3JlZGl0Y2FyZFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJDcmVkaXQgY2FyZCBudW1iZXJcIiBvbkNoYW5nZT17KGUpID0+IHByb3BzLm9uQ2hhbmdlKGUpfT48L2lucHV0PlxuICAgIDxpbnB1dCBpZD1cImV4cGlyYXRpb25cIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRXhwaXJhdGlvbiBkYXRlXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8aW5wdXQgaWQ9XCJjdnZcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiQ1ZWXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8aW5wdXQgaWQ9XCJiaWxsaW5nLXppcFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJCaWxsaW5nIHppcCBjb2RlXCIgb25DaGFuZ2U9eyhlKSA9PiBwcm9wcy5vbkNoYW5nZShlKX0+PC9pbnB1dD5cbiAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiBwcm9wcy5vbkNsaWNrKGUpfT5OZXh0PC9idXR0b24+XG4gIDwvZGl2PlxuKVxuXG52YXIgQ29uZmlybWF0aW9uID0gKHByb3BzKSA9PiAoXG4gIDxkaXYgaWQ9XCJjb25maXJtYXRpb25cIj5cbiAgICA8aDE+Q29uZmlybWF0aW9uPC9oMT5cbiAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiBwcm9wcy5vbkNsaWNrKGUpfT5QdXJjaGFzZTwvYnV0dG9uPlxuICA8L2Rpdj5cbilcblxuXG5SZWFjdERPTS5yZW5kZXIoPEFwcC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXBwYCkpOyJdfQ==